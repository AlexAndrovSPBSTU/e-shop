# e-shop

Перед запуском необходимо скачать и запустить Docker Engine.
В папке Dokcer находится всё необходимоё для развёртки проекта на локальной машине.

docker-compose.yml - файл позволяющий запускать все контейнеры вместе\
create_tables.sql - файл для создания бд\
fill_tables.sql - файл для заполенения бд

\
Чтобы запустить все контейнеры вместе достаточно выполнить следующую комманду:
```
docker-compose up
```
\
\
Структура базы данных представлена ниже.
\
\
![database_model.png](backend%2Fsrc%2Fmain%2Fresources%2Fdatabase_model.png)

# Таблица Customer.
У Customer может быть несколько комментариев, товаров в корзине (CartItem) и совершённые покупки.

# Таблица Comment.
Одному комментарию соответсвует один продукт и пользователь, который его оставил. 

# Таблица Photo.
Фотография обязательно должна ссылать или на продукт или на комментарий в котором она используется.

# Таблица Photo.
Фотография обязательно должна ссылать или на продукт или на комментарий в котором она используется.

# Таблица CartItem.
В этой таблице хранятся товары и их кол-во, которые пользователь хочет приобрести.(Корзина) 
Когда пользователь добавляет товар в корзину,
новой сущности cartItem в purchase_id присваивается 1. Это id ничьеной покупки, она создаётся в бд при запуске докера.
Сделано это по той причине, что это primary key и ему должно быть присвоено какое-то занчение. 
Когда покупка состоится, этой сущности cartItem в purchase_id присвоится id состоявшейся покупки.

# Таблица Product.
Продукт может находиться только в одной категории.

# Таблица Category.
Одна категория может находиться в нескольких категориях.

# Таблица Characteristics.
Характеристика принадлежит только одной категории. Все хар-ки родительской категории наследуются дочерними категориями, 
если isDiverged = false. Если хар-ка диапазончатая, то у неё обязательно должны быть поля from и to.

# Таблица Property.
Это те значения хар-ки, которые могут принимать товары. К примеру "Объём оперативной памяти" - хар-ка. "4 ГБ",
"8 ГБ" - её занчения. Эти значения относятся только к этой хар-ки. Помимого прочего товары могут состоять из этих 
значение(отношение многие ко многим).

\
По указанной ссылке можно найти все методо api postman-е.\
https://www.postman.com/martian-meadow-737952/workspace/e-shop/collection/27254100-6a2c8515-5874-4c2c-9845-d64f6953290e?action=share&creator=27254100